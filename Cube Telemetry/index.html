<html>
  
  <head>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <meta charset="utf-6"><meta name="viewport" content="width=device-width">
  <title>CubeSat Telemetry</title>

  <link href="style.css" rel="stylesheet" type="text/css">

  <style>
    body{
    margin: 0;
    padding: 0;
    }
    .main-body{
    margin:10 px;
    }
    ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
    }

    li {
    float: left;
    }

    li a, .dropbtn {
    display: inline-block;
    color: white;
    text-align: center;
    padding: 0px 10px;
    text-decoration: none;
    }
    li.dropdown {
    display: inline-block;
    }

    .dropdown-content {
    display: none;
    position: absolute;
    min-width: 160px;
    z-index: 1;
    }

    .dropdown-content a {
    color: black;
    text-decoration: none;
    display: block;
    text-align: left;
    }


    .dropdown:hover .dropdown-content {
    display: block;
    }
  </style>
  <script>
    function myfunction(ID){
      const xmlhttp = new XMLHttpRequest();
      let url = "https://cubesatserver.onrender.com/1Q2W3E4R5T/Satellite/" +  ID;

      xmlhttp.onload = function() {
        const satObj = JSON.parse(this.responseText);
        
        document.getElementById("data-lat").innerHTML = satObj.lat;
        document.getElementById("data-long").innerHTML = satObj.long;
        document.getElementById("data-Alt").innerHTML = satObj.Alt;
        document.getElementById("data-Pitch").innerHTML = satObj.Pitch;
        document.getElementById("data-Yaw").innerHTML = satObj.Yaw;
        document.getElementById("data-Roll").innerHTML = satObj.Roll;
        document.getElementById("data-Temp").innerHTML = satObj.Temp;
        document.getElementById("data-humidity").innerHTML = satObj.humidity;
        document.getElementById("data-Pressure").innerHTML = satObj.Pressure;
       
      }
      
      xmlhttp.open("GET", url);
      xmlhttp.setRequestHeader("Content-type", "application/json");
      xmlhttp.send();
    }
    const xmlhttp = new XMLHttpRequest();
    let url = "https://cubesatserver.onrender.com/1Q2W3E4R5T/Satellite/all";
    xmlhttp.onload = function() {
      const myObj = JSON.parse(this.responseText);
      let text = "<option value=\"none\" selected disabled hidden> Choose Your Satellite</option>";
      console.log(text);
      for (let x in myObj) {
        text += '<option value="'+myObj[x]._id + '">' + myObj[x].name + "</option>";
      }
      document.getElementById("sats").innerHTML = text;
    }

    xmlhttp.open("GET", url);
    xmlhttp.setRequestHeader("Content-type", "application/json");
    xmlhttp.send();
    $(document).ready(function(){
      $("#sats").change(function(){
          var Sat_ID = $(this).children("option:selected").val();
          // alert("you have selected " + selectedSat);

          myfunction(Sat_ID);
          
      });
    });
    </script>
    </head>

<body>
  <ul>
  <li class="dropdown">
    <p class="dropbtn">Which Satellite do you want to view?</p>
    <select name="Sats" id="sats"><option value="none" selected="" disabled="" hidden=""> Choose Your Satellite</option><option>AAU Cubeset</option><option>CanX-1</option><option>Cubesat Xi-IV</option><option>ncube-2</option><option>AeroCube-1</option><option>CSBBT-1</option><option>MAST</option><option>COMPASS-1</option><option>AeroCube-3</option><option>Nanosail-D2</option></select>
  </li>
  </ul>

  <div class="main-body">
    <h1 style="color: pink">Satellites</h1>
  </div>

  <script src="script.js"></script>
  <div style="
  border-radius: 40px;
  display: flex;
  /* width: 00%; */
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-around;
  padding: 0px 10px;
  ">
  <div style="border-radius: 40px;background-color: initial;"> 
      <div style="padding: 10px;border-radius: 40px;background-color: transparent;display: flex;justify-content: space-evenly;align-items: flex-end;margin: 10px 0px;" class="box">
        
        <div>
          <img width="250" src="images/images (1).jpg">
          <p>TRAJECTORY</p>
        </div>
          
      </div>
      <hr>
            <div style="border-radius: 40px;padding: 0px 10px;display: flex;background-color: transparent;justify-content: space-around;margin: 10px 0px;" class="box">

          <div style="display: flex;padding: 10px;justify-content: space-evenly;">
        
        <div style="
  padding: 0px 0px;
  ">
          <h2>distance in earth and moon</h2>
            <hr>
            <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-around;"><p style="color:grey">LAT.</p><p style="color:grey">LONG.</p> <p style="color:grey"> ALT.</p>
            </div>
            <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-around;">  <p id="data-lat">33.38768</p><p id="data-long">-13.5554</p> <p id="data-Alt">238</p>
            </div>
            <hr>
            <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-around;"><p style="color:grey">Pitch</p><p style="color:grey">YAW</p> <p style="color:grey">ROLL</p>
            </div>
            
  <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-around;">  <p id="data-Pitch">38°</p><p id="data-Yaw">-13.34°</p> <p id="data-Roll">238°</p>
            </div>
          </div>
        
      </div>
        </div>
        
        
  </div>
    <div style="
  /* border-radius: 40px; */
  /* padding-block: 20px 200px; */
  border-radius: 40px;
  background-color: transparent;
  /* margin: 10px 0px; */
  "> 
  <hr>
      <div class="box" style="
  border-radius: 40px;
  padding: 16px 31px;
  display: flex;
  background-color: transparent;
  flex-direction: column;
  align-items: stretch;
  ">
              <h2>POWER SYSTEM</h2>

  <div style="
  background-color: silver;
  ">

  <div class="w3-border" style="
  border-radius: 10 px;
  border-radius: 10 px;
  ">
  <div class="w3-grey" style="background-color: darkseagreen;height:24 px;width:20%"></div>
  </div>
  </div>
          <p>05:59:48</p>
          <hr>
  <div style="text-decoration: underline;display: flex;flex-direction: row;justify-content: space-between;">  <h2>Sensor</h2><h2>Data</h2>
    </div>
          <hr>

  <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-between;">  <h4>Temp</h4><h4 id="data-Temp">66°</h4>
    </div>
          <hr>
          <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-between;">  <h4>Humidity</h4><h4 id="data-Humidity">45°</h4>
    </div>
          <hr>

    <div style="/* text-decoration: underline; */display: flex;flex-direction: row;justify-content: space-between;">  <h4>Pressure</h4><h4 id="data-Pressure">37 pa</h4>
    </div>              
          <hr>
                  <p><small>MISSION VITALS</small></p>  
  <div style="/* text-decoration: underline; */display: flex;padding:-51px; /* flex-direction: row; */justify-content: space-between;">  <h4 >57.96</h4><h4>27.64</h4><h4>8.73</h4></div>
  </div></div>
  </div>
</body></html>
